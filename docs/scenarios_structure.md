# Scenarios 架構說明檔案

## 檔案用途

本檔案用於追蹤和驗證 `scenarios.json` 中的所有步驟、動作、媒體檔案和按鈕對應關係，確保教學流程完整無缺。

---

## 🏗️ Scenarios 整體架構

```
scenarios.json
├── unit_combinations[]          # 教學單元組合定義
│   └── combination_id
│   └── combination_name
│   └── units[]                 # 包含的單元 ID 列表
│
├── gesture_list[]              # 手勢定義（用於特殊操作）
│
└── sections[]                  # 教學章節
    └── section_id: "section_a"
    └── units[]                 # 四個主要單元
        ├── unit_id: "SA01"     # 更改語言為英語
        ├── unit_id: "SA02"     # 送出過短設定(25)
        ├── unit_id: "SA03"     # 夾開力矩設定(30)
        └── unit_id: "SA04"     # 推桿後退定點設定(400)
            ├── steps[]         # 每個單元的步驟
            │   ├── step_id
            │   ├── step_name
            │   ├── step_buttons[]
            │   └── actions[]   # 該步驟的所有動作
            │       ├── action_id
            │       ├── action_name
            │       ├── action_buttons
            │       ├── media_file (對應的圖片)
            │       └── interactions (按鈕與下一個 action 的對應)
```

---

## 各單元詳細對應表

### **SA01 - 更改語言為英語**

| 步驟 | Step ID | Action ID | 按鈕  | 動作名稱                     | 媒體檔案                                     |
| ---- | ------- | --------- | ----- | ---------------------------- | -------------------------------------------- |
| 1    | SA01_1  | A004_1    | f3    | 首頁按 [f3] 準備輸入密碼     | null                                         |
| 1    | SA01_1  | A004_2    | 2     | 進入【密碼輸入區】           | `A004-更改語言為英語/更改語言為英語0068.jpg` |
| 1    | SA01_1  | A004_3    | 5     | 密碼輸入區，輸入數值【2】    | `A004-更改語言為英語/更改語言為英語0118.jpg` |
| 1    | SA01_1  | A004_4    | 8     | 密碼輸入區，輸入數值【5】    | `A004-更改語言為英語/更改語言為英語0133.jpg` |
| 1    | SA01_1  | A004_5    | enter | 密碼輸入區，輸入數值【8】    | `A004-更改語言為英語/更改語言為英語0174.jpg` |
| 2    | SA01_2  | A004_6    | f6    | 進入【系統功能設定】         | `A004-更改語言為英語/更改語言為英語0225.jpg` |
| 3    | SA01_3  | A004_8    | enter | 輸入數值【1】                | `A004-更改語言為英語/更改語言為英語0655.jpg` |
| 3    | SA01_3  | A004_9    | enter | 再次確認數值修改             | `A004-更改語言為英語/更改語言為英語0711.jpg` |
| 4    | SA01_4  | A004_10   | f3    | 進入英文版的【系統功能設定】 | `A004-更改語言為英語/更改語言為英語0797.jpg` |
| 4    | SA01_4  | A004_11   | null  | 回到英文版的首頁             | `A004-更改語言為英語/更改語言為英語1003.jpg` |

**步驟按鈕序列：** f3 → 2,5,8,enter → shift+f6 → 1,enter → f3,f3

---

### **SA02 - 送出過短設定(25)**

| 步驟 | Step ID | Action ID | 按鈕  | 動作名稱                         | 媒體檔案                                     |
| ---- | ------- | --------- | ----- | -------------------------------- | -------------------------------------------- |
| 1    | SA02_1  | A003_1    | f1    | 首頁按 [f1] 進入「車削參數設定」 | null                                         |
| 2    | SA02_2  | A003_2    | f2    | 進入【車削參數設定】             | `A003-送出過短設定(25)/送出過短設定0224.jpg` |
| 2    | SA02_2  | A003_3    | f2,f1 | 進入【成品長度設定】             | `A003-送出過短設定(25)/送出過短設定0276.jpg` |
| 2    | SA02_2  | A003_4    | f2,f1 | 進入【送出過長設定】             | `A003-送出過短設定(25)/送出過短設定0323.jpg` |
| 3    | SA02_3  | A003_5    | 2,f1  | 進入【送出過短設定】             | `A003-送出過短設定(25)/送出過短設定0378.jpg` |
| 3    | SA02_3  | A003_6    | 5     | 輸入數值【2】                    | `A003-送出過短設定(25)/送出過短設定0752.jpg` |
| 3    | SA02_3  | A003_7    | enter | 輸入數值【5】                    | `A003-送出過短設定(25)/送出過短設定0846.jpg` |
| 3    | SA02_3  | A003_8    | enter | 再次確認數值修改                 | `A003-送出過短設定(25)/送出過短設定0905.jpg` |
| 4    | SA02_4  | A003_9    | f3    | 確認修改並回到首頁               | `A003-送出過短設定(25)/送出過短設定0960.jpg` |
| 4    | SA02_4  | A003_10   | null  | 回到首頁                         | `A003-送出過短設定(25)/送出過短設定1010.jpg` |

**步驟按鈕序列：** f1 → f2,f1 → 2,5,enter → f3

---

### **SA03 - 夾開力矩設定(30)**

| 步驟 | Step ID | Action ID | 按鈕  | 動作名稱                         | 媒體檔案                                     |
| ---- | ------- | --------- | ----- | -------------------------------- | -------------------------------------------- |
| 1    | SA03_1  | A001_1    | f1    | 首頁按 [f1] 進入「車削參數設定」 | null                                         |
| 2    | SA03_2  | A001_2    | f2    | 進入【車削參數設定】             | `A001-夾開力矩設定(30)/夾開力矩設定0167.jpg` |
| 2    | SA03_2  | A001_3    | f2,f1 | 進入【成品長度設定】             | `A001-夾開力矩設定(30)/夾開力矩設定0255.jpg` |
| 2    | SA03_2  | A001_4    | f2,f1 | 進入【送出過長設定】             | `A001-夾開力矩設定(30)/夾開力矩設定0313.jpg` |
| 2    | SA03_2  | A001_5    | f2,f1 | 進入【送出過短設定】             | `A001-夾開力矩設定(30)/夾開力矩設定0341.jpg` |
| 2    | SA03_2  | A001_6    | f2,f1 | 進入【夾開速度設定】             | `A001-夾開力矩設定(30)/夾開力矩設定0369.jpg` |
| 3    | SA03_3  | A001_7    | 3,f1  | 進入【夾開力矩設定】             | `A001-夾開力矩設定(30)/夾開力矩設定0400.jpg` |
| 3    | SA03_3  | A001_8    | 0     | 輸入數值【3】                    | `A001-夾開力矩設定(30)/夾開力矩設定0841.jpg` |
| 3    | SA03_3  | A001_9    | enter | 輸入數值【0】                    | `A001-夾開力矩設定(30)/夾開力矩設定0891.jpg` |
| 3    | SA03_3  | A001_10   | enter | 再次確認數值修改                 | `A001-夾開力矩設定(30)/夾開力矩設定0931.jpg` |
| 4    | SA03_4  | A001_11   | f3    | 確認修改並回到首頁               | `A001-夾開力矩設定(30)/夾開力矩設定0971.jpg` |
| 4    | SA03_4  | A001_12   | null  | 回到首頁                         | `A001-夾開力矩設定(30)/夾開力矩設定1010.jpg` |

**步驟按鈕序列：** f1 → f2,f1 → 3,0,enter → f3

---

### **SA04 - 推桿後退定點設定(400)**

| 步驟 | Step ID | Action ID | 按鈕  | 動作名稱                  | 媒體檔案                                              |
| ---- | ------- | --------- | ----- | ------------------------- | ----------------------------------------------------- |
| 1    | SA04_1  | A002_1    | f2    | 首頁按 [f2] 準備輸入密碼  | null                                                  |
| 1    | SA04_1  | A002_2    | 2     | 進入【密碼輸入區】        | `A002-推桿後退定點設定(400)/推桿後退定點設定0080.jpg` |
| 1    | SA04_1  | A002_3    | 5     | 密碼輸入區，輸入數值【2】 | `A002-推桿後退定點設定(400)/推桿後退定點設定0136.jpg` |
| 1    | SA04_1  | A002_4    | 8     | 密碼輸入區，輸入數值【5】 | `A002-推桿後退定點設定(400)/推桿後退定點設定0162.jpg` |
| 1    | SA04_1  | A002_5    | enter | 密碼輸入區，輸入數值【8】 | `A002-推桿後退定點設定(400)/推桿後退定點設定0207.jpg` |
| 2    | SA04_2  | A002_6    | f2    | 進入【推桿後退行程設定】  | `A002-推桿後退定點設定(400)/推桿後退定點設定0243.jpg` |
| 3    | SA04_3  | A002_7    | 4,f1  | 進入【推桿後退定點設定】  | `A002-推桿後退定點設定(400)/推桿後退定點設定1960.jpg` |
| 3    | SA04_3  | A002_8    | 0     | 輸入數值【4】             | `A002-推桿後退定點設定(400)/推桿後退定點設定2066.jpg` |
| 3    | SA04_3  | A002_9    | 0     | 輸入數值【0】             | `A002-推桿後退定點設定(400)/推桿後退定點設定2087.jpg` |
| 3    | SA04_3  | A002_10   | 0     | 輸入數值【0】             | `A002-推桿後退定點設定(400)/推桿後退定點設定2116.jpg` |
| 3    | SA04_3  | A002_11   | enter | 再次確認數值修改          | `A002-推桿後退定點設定(400)/推桿後退定點設定2141.jpg` |
| 4    | SA04_4  | A002_12   | f3    | 確認修改並回到首頁        | `A002-推桿後退定點設定(400)/推桿後退定點設定2171.jpg` |
| 4    | SA04_4  | A002_13   | null  | 回到首頁                  | `A002-推桿後退定點設定(400)/推桿後退定點設定2196.jpg` |

**步驟按鈕序列：** f2 → 2,5,8,enter → f2 → 4,0,0,enter → f3

---

##Action 流程圖

### SA01 - 更改語言為英語

```
A004_1 (f3)
  ↓
A004_2 (2)
  ↓
A004_3 (5)
  ↓
A004_4 (8)
  ↓
A004_5 (enter)
  ↓
A004_6 (f6 + Shift)
  ↓
A004_8 (enter)
  ↓
A004_9 (enter)
  ↓
A004_10 (f3)
  ↓
A004_11 (end)
```

### SA02 - 送出過短設定(25)

```
A003_1 (f1)
  ↓
A003_2 (f2) ⟷ A003_3 (f2,f1) ⟷ A003_4 (f2,f1) ⟷ A003_5 (2,f1)
  ↓
A003_6 (5)
  ↓
A003_7 (enter)
  ↓
A003_8 (enter)
  ↓
A003_9 (f3)
  ↓
A003_10 (end)
```

### SA03 - 夾開力矩設定(30)

```
A001_1 (f1)
  ↓
A001_2 (f2) ⟷ A001_3 (f2,f1) ⟷ A001_4 (f2,f1)
  ↓
A001_5 (f2,f1) ⟷ A001_6 (f2,f1) ⟷ A001_7 (3,f1)
  ↓
A001_8 (0)
  ↓
A001_9 (enter)
  ↓
A001_10 (enter)
  ↓
A001_11 (f3)
  ↓
A001_12 (end)
```

### SA04 - 推桿後退定點設定(400)

```
A002_1 (f2)
  ↓
A002_2 (2)
  ↓
A002_3 (5)
  ↓
A002_4 (8)
  ↓
A002_5 (enter)
  ↓
A002_6 (f2) ⟷ A002_7 (4,f1)
  ↓
A002_8 (0)
  ↓
A002_9 (0)
  ↓
A002_10 (0)
  ↓
A002_11 (enter)
  ↓
A002_12 (f3)
  ↓
A002_13 (end)
```

---

## 按鈕對照表（buttons.json 映射）

| 按鈕 ID | 按鈕功能             | 主要用途                      |
| ------- | -------------------- | ----------------------------- |
| B1      | shift                | 與其他按鈕組合（如 shift+f6） |
| B2      | f1, f4               | 上一頁、上一項                |
| B3      | f2, f5               | 下一頁、下一項                |
| B4      | f3, f6               | 回傳、進入 (需要 shift)       |
| B5-B7   | 7,a / 8,b / 9,c      | 數字鍵 7,8,9                  |
| B8-B10  | 4,d / 5,e / 6,f      | 數字鍵 4,5,6                  |
| B11-B13 | 1,dot / 2,f7 / 3,... | 數字鍵 1,2,3                  |

---

##資料完整性檢查清單

- [x] SA01 - 所有 10 個 actions 完整
- [x] SA02 - 所有 10 個 actions 完整
- [x] SA03 - 所有 12 個 actions 完整(已補完媒體)
- [x] SA04 - 所有 13 個 actions 完整(已補完媒體)
- [x] 所有媒體檔案路徑驗證完成
- [x] 所有按鈕序列對應正確
- [x] 所有 interactions 流程正確

---

## 📌 備註

1. **Shift 組合按鈕：** SA01_2 中的 f6 需要同時按下 Shift (B1)
2. **媒體顯示時機：** 第一個 action 通常媒體為 null（跳過媒體顯示）
3. **最後一個 action：** 通常 action_buttons 為 null，僅顯示媒體確認
4. **互動分支：** SA02 和 SA03 的步驟 2 中有 f1/f2 的互動分支，允許使用者上下翻頁

---

**最後更新：** 2025-12-04
**狀態：**所有對應關係已驗證完成
